PROC S_WARE_ROLLING DISPLOF
;;**********程序功能**********
;;滚压修整
;;***************************

DEF AXIS AXIVER

AXIVER=AXNAME(AXIS_VER)

IF DRESSER[18]+DRESSER[19]+DRESSER[20]==0
    RET
ENDIF

G90 G1 AX[AXIVER]=WHEEL[10] F=DRESSER[10]
G4 F=WHEEL[18]
IF GRIND[0]<>1
    G91 G1 AX[AXIVER]=1 F=DRESSER[10]*4
ELSE
    IF DRESSER[37]==0
        G91 G1 AX[AXIVER]=-1 F=DRESSER[10]*4
    ELSE
        G91 G1 AX[AXIVER]=1 F=DRESSER[10]*4
    ENDIF
ENDIF
DRESSER[5]=1

RET

